create database TrainingCompany
use TrainingCompany

Create Table Employee(
Fname nvarchar(20) not null,
Lname nvarchar(20)not null,
SSN int primary key identity(1,1),
BirthDate Date ,
Gender bit default 0,
Super_ssn int,
foreign key (Super_ssn) references Employee(SSN)
)
create table Department(
Dname nvarchar(20)not null,
Dnum int primary key identity(1,1),
Mgr_ssn int,
	Mgr_start_date date not null,
	foreign key (Mgr_ssn) references Employee(Ssn))

create table Dependents(
DependentID int ,
DName varchar(50),
Gender varchar(10),
Birthdate Date,
DSSN Int,
Foreign key (DSSN) References Employee(SSN),
primary key(DSSN ,DependentID)
)
Create table Deplocation (
Dnum Int,
locations varchar(100),
foreign key (Dnum) References Department(Dnum),
primary key (Dnum , locations)
)
create table project(
PNumber int primary key ,
PName varchar(50) not null,
Locations varchar(50),
City varchar(50),
PDNum int,
foreign key (PDNum) references Department(Dnum)
)
create table WorkeOn(
SSN int,
PNumber int,
WorkingHours int,
Foreign key (ssn) references Employee(SSN),
Foreign key (PNumber) references Project(PNumber),
primary key (SSN,PNumber)
)
alter table Employee 
add Dno int foreign key references Department(Dnum)

